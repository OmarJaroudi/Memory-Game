title	"flasher"	
list	p=16f84A
include "p16f84A.inc"


		c1	EQU	d'11'
		COUNT1	EQU	d'12'
		COUNT2	EQU	d'13'

		ORG		0x0
		CLRF	PORTA
		BSF		STATUS,RP0
		CLRF	TRISA
		CLRF	TRISB
		BCF		STATUS,RP0

	
		CALL	DELAY2
		MOVLW	b'00010'
		MOVWF	PORTA
		CALL	ET
		;same data line
		CALL	ET
		MOVLW	b'01000'
		MOVWF	PORTA
		CALL	ET

		MOVLW	b'00000'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'01100'
		MOVWF	PORTA
		CALL	ET

		MOVLW	b'00000'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'00001'
		MOVWF	PORTA
		CALL	ET

		MOVLW	b'00000'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'00110'
		MOVWF	PORTA
		CALL	ET  ; end of int

WELCOME	;SET ADDRESS
		MOVLW	b'01000'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'00010'
		MOVWF	PORTA
		CALL	ET

		;M
		MOVLW	b'10100'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'11101'
		MOVWF	PORTA
		CALL	ET

		;E
		MOVLW	b'10100'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'10101'
		MOVWF	PORTA
		CALL	ET

		;M
		MOVLW	b'10100'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'11101'
		MOVWF	PORTA
		CALL	ET

		;O
		MOVLW	b'10100'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'11111'
		MOVWF	PORTA
		CALL	ET

		;R
		MOVLW	b'10101'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'10010'
		MOVWF	PORTA
		CALL	ET

		;Y
		MOVLW	b'10101'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'11001'
		MOVWF	PORTA
		CALL	ET

		;blank space
		MOVLW	b'11010'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'10000'
		MOVWF	PORTA
		CALL	ET
		
		;blank space
		MOVLW	b'11010'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'10000'
		MOVWF	PORTA
		CALL	ET

		;G
		MOVLW	b'10100'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'10111'
		MOVWF	PORTA
		CALL	ET

		;A
		MOVLW	b'10100'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'10001'
		MOVWF	PORTA
		CALL	ET

		;M
		MOVLW	b'10100'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'11101'
		MOVWF	PORTA
		CALL	ET

		;E
		MOVLW	b'10100'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'10101'
		MOVWF	PORTA
		CALL	ET
		
		;delaying the welcome message for about 2.5 seconds
		MOVLW	d'50'
		MOVWF	c1

L		CALL	DELAY2
		DECFSZ	c1,f
		GOTO L
		
		MOVLW	b'00000'
		MOVWF	PORTA
		CALL	ET
		MOVLW	b'00001'
		MOVWF	PORTA
		CALL	ET
		
InfLoop		GOTO	InfLoop

DELAY	MOVLW	h'00'
		MOVWF	COUNT1
		MOVLW	d'13'
		MOVWF	COUNT2
		
LOOP	INCFSZ	COUNT1,F
		GOTO	LOOP
		DECFSZ	COUNT2,F
		GOTO 	LOOP
		RETURN

DELAY2	MOVLW	h'00'
		MOVWF	COUNT1
		MOVLW	d'52'
		MOVWF	COUNT2
		
LOOP2	INCFSZ	COUNT1,F
		GOTO	LOOP2
		DECFSZ	COUNT2,F
		GOTO 	LOOP2
		RETURN

ET		BSF		PORTB,1
		NOP
		BCF		PORTB,1
		Call	DELAY
		RETURN

		end


		
